{"version":3,"sources":["components/Filter/Filter.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","components/ContactsForm/ContactsForm.jsx","helpers/error.jsx","helpers/warning.jsx","redux/contacts/contacts-selectors.js","components/ContactsList/ContactsListItem.jsx","components/ContactsList/ContactsList.jsx","components/Filter/Filter.jsx","App.js","index.js","components/ContactsList/ContactsList.module.css","components/ContactsForm/ContactsForm.module.css"],"names":["module","exports","changeFilter","createAction","filterReducer","createReducer","_","action","payload","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","saveContact","mutation","contact","url","method","body","invalidatesTags","deleteContacts","id","useFetchContactsQuery","useSaveContactMutation","useDeleteContactsMutation","store","configureStore","reducer","filter","middleware","getDefaultMiddleware","setupListeners","dispatch","ContactsForm","useState","name","setName","phone","setPhone","contacts","data","isLoading","handleChange","e","currentTarget","value","reset","className","styles","form","onSubmit","preventDefault","nanoid","getContactExistence","find","toLowerCase","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","label","input","type","pattern","title","required","onChange","button","height","width","color","getFilter","state","ContactsListItem","phoneNumber","deleteContact","item","info","onClick","ContactList","useSelector","filteredContacts","includes","length","warning","list","map","Filter","useDispatch","target","App","theme","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92d8c99d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__1JUOT\",\"input\":\"Filter_input__XWDkJ\"};","import { createAction } from '@reduxjs/toolkit';\nexport const changeFilter = createAction('contacts/changeFilter');\n","import { createReducer } from '@reduxjs/toolkit';\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { changeFilter } from './contacts-actions';\n\nexport const filterReducer = createReducer('', {\n  [changeFilter]: (_, action) => action.payload,\n});\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://61ea9051c9d96b0017700c0a.mockapi.io/api/v1',\n  }),\n  tagTypes: ['Contacts'],\n  endpoints: builder => ({\n    fetchContacts: builder.query({\n      query: () => '/contacts',\n      providesTags: ['Contacts'],\n    }),\n\n    saveContact: builder.mutation({\n      query: contact => ({\n        url: '/contacts',\n        method: 'POST',\n        body: contact,\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n\n    deleteContacts: builder.mutation({\n      query: id => ({\n        url: `/contacts/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n  }),\n});\n\nexport const {\n  useFetchContactsQuery,\n  useSaveContactMutation,\n  useDeleteContactsMutation,\n} = contactsApi;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { setupListeners } from '@reduxjs/toolkit/query';\nimport { contactsApi, filterReducer } from './contacts/contacts-reducer';\n\nexport const store = configureStore({\n  reducer: {\n    filter: filterReducer,\n    [contactsApi.reducerPath]: contactsApi.reducer,\n  },\n  middleware: getDefaultMiddleware => [\n    ...getDefaultMiddleware(),\n    contactsApi.middleware,\n  ],\n});\n\nsetupListeners(store.dispatch);\n","import { useState } from 'react';\r\nimport {\r\n  useSaveContactMutation,\r\n  useFetchContactsQuery,\r\n} from '../../redux/contacts/contacts-reducer';\r\nimport { nanoid } from 'nanoid';\r\nimport { BallTriangle } from 'react-loader-spinner';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport warning from '../../helpers/warning';\r\nimport error from '../../helpers/error';\r\nimport styles from './ContactsForm.module.css';\r\n\r\nexport default function ContactsForm() {\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n\r\n  const { data: contacts } = useFetchContactsQuery();\r\n  const [saveContact, { isLoading }] = useSaveContactMutation();\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const contact = { id: nanoid(), name, phone };\r\n\r\n    const getContactExistence = contacts.find(\r\n      contact => contact.name.toLowerCase() === name.toLowerCase(),\r\n    );\r\n\r\n    if (!getContactExistence) {\r\n      saveContact(contact);\r\n      warning();\r\n      reset();\r\n      return;\r\n    }\r\n    error(name);\r\n    reset();\r\n  };\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.currentTarget;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'phone':\r\n        setPhone(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setPhone('');\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={handleSubmit}>\r\n      <label className={styles.label}>\r\n        Name\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n\r\n      <label className={styles.label}>\r\n        Number\r\n        <input\r\n          className={styles.input}\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          value={phone}\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      {isLoading ? (\r\n        <button className={styles.button}>\r\n          <BallTriangle height=\"40\" width=\"40\" color=\"beige\" />\r\n        </button>\r\n      ) : (\r\n        <button className={styles.button} type=\"submit\">\r\n          Add contact\r\n        </button>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function toastError(query) {\r\n  return toast.error(`${query} is already in contacts!`, {\r\n    position: 'top-right',\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n}\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function toastError() {\r\n  return toast.success(`Saved!`, {\r\n    position: 'top-right',\r\n    autoClose: 3000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n}\r\n","export const getContacts = state => state.contacts.items;\nexport const getFilter = state => state.filter;\n\nexport const getFilteredContacts = state => {\n  const filter = getFilter(state);\n  const contacts = getContacts(state);\n  const normalizedFilter = filter.toLowerCase();\n\n  return contacts.filter(({ name }) =>\n    name.toLowerCase().includes(normalizedFilter),\n  );\n};\n","import { useDeleteContactsMutation } from '../../redux/contacts/contacts-reducer';\r\nimport { IoTrashBinOutline } from 'react-icons/io5';\r\nimport { BallTriangle } from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ContactsList.module.css';\r\n\r\nexport default function ContactsListItem({ id, name, phoneNumber }) {\r\n  const [deleteContact, { isLoading }] = useDeleteContactsMutation();\r\n\r\n  return (\r\n    <>\r\n      <li className={styles.item}>\r\n        <span className={styles.info}>\r\n          {name}: {phoneNumber}\r\n        </span>\r\n        {isLoading ? (\r\n          <button\r\n            className={styles.button}\r\n            type=\"button\"\r\n            onClick={() => deleteContact(id)}\r\n          >\r\n            <BallTriangle height=\"20\" width=\"40\" color=\"beige\" />\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className={styles.button}\r\n            type=\"button\"\r\n            onClick={() => deleteContact(id)}\r\n          >\r\n            <IoTrashBinOutline />\r\n          </button>\r\n        )}\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nContactsListItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  phoneNumber: PropTypes.string.isRequired,\r\n};\r\n","import { useSelector } from 'react-redux';\r\nimport { useFetchContactsQuery } from '../../redux/contacts/contacts-reducer';\r\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\r\nimport ContactsListItem from './ContactsListItem';\r\nimport styles from './ContactsList.module.css';\r\n\r\nexport default function ContactList() {\r\n  const filter = useSelector(getFilter);\r\n  const { data, error } = useFetchContactsQuery();\r\n\r\n  const getFilteredContacts = contacts =>\r\n    contacts.filter(({ name }) =>\r\n      name.toLowerCase().includes(filter.toLowerCase()),\r\n    );\r\n\r\n  const filteredContacts = data ? getFilteredContacts(data) : [];\r\n\r\n  return (\r\n    <>\r\n      {error || (filteredContacts && filteredContacts.length === 0) ? (\r\n        <div className={styles.warning}>You have no contacts!</div>\r\n      ) : (\r\n        <ul className={styles.list}>\r\n          {data &&\r\n            filteredContacts.map(({ id, name, phone }) => (\r\n              <ContactsListItem\r\n                key={id}\r\n                id={id}\r\n                name={name}\r\n                phoneNumber={phone}\r\n              />\r\n            ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\r\nimport { changeFilter } from '../../redux/contacts/contacts-actions';\r\nimport styles from './Filter.module.css';\r\n\r\nexport default function Filter() {\r\n  const value = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <label className={styles.label}>\r\n      Find contacts\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={e => dispatch(changeFilter(e.target.value))}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ContactsForm from './components/ContactsForm/ContactsForm';\nimport ContactsList from './components/ContactsList/ContactsList';\nimport Filter from './components/Filter/Filter';\n\nexport default function App() {\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ContactsForm />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactsList />\n      <ToastContainer autoClose={3000} theme={'colored'} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactsList_list__2yq7y\",\"item\":\"ContactsList_item__1Kwto\",\"info\":\"ContactsList_info__PTIc1\",\"button\":\"ContactsList_button__J01V_\",\"warning\":\"ContactsList_warning__3rIIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactsForm_form__BbskO\",\"label\":\"ContactsForm_label__3fkh-\",\"input\":\"ContactsForm_input__14yr8\",\"button\":\"ContactsForm_button__qYwAB\"};"],"sourceRoot":""}