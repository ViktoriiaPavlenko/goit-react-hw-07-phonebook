{"version":3,"sources":["components/Filter/Filter.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","helpers/error.jsx","components/ContactsForm/ContactsForm.jsx","helpers/warning.jsx","redux/contacts/contacts-selectors.js","components/ContactsList/ContactsListItem.jsx","components/ContactsList/ContactsList.jsx","components/Filter/Filter.jsx","App.js","index.js","components/ContactsList/ContactsList.module.css","components/ContactsForm/ContactsForm.module.css"],"names":["module","exports","changeFilter","createAction","filterReducer","createReducer","_","action","payload","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","saveContact","mutation","contact","url","method","body","invalidatesTags","deleteContacts","id","useFetchContactsQuery","useSaveContactMutation","useDeleteContactsMutation","store","configureStore","reducer","filter","middleware","getDefaultMiddleware","setupListeners","dispatch","toastError","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ContactsForm","useState","name","setName","phone","setPhone","contacts","data","isLoading","handleSubmit","e","a","preventDefault","getNameExistence","find","toLowerCase","getNumberExistence","reset","success","handleChange","currentTarget","value","className","styles","form","onSubmit","label","input","type","pattern","title","required","onChange","button","height","width","color","getFilter","state","ContactsListItem","phoneNumber","deleteContact","item","info","onClick","ContactList","useSelector","filteredContacts","includes","length","warning","list","map","Filter","useDispatch","target","App","theme","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15826b11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__1JUOT\",\"input\":\"Filter_input__XWDkJ\"};","import { createAction } from '@reduxjs/toolkit';\nexport const changeFilter = createAction('contacts/changeFilter');\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\nimport { changeFilter } from './contacts-actions';\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [changeFilter]: (_, action) => action.payload,\r\n});\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: 'contactsApi',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://61ea9051c9d96b0017700c0a.mockapi.io/api/v1',\r\n  }),\r\n  tagTypes: ['Contacts'],\r\n  endpoints: builder => ({\r\n    fetchContacts: builder.query({\r\n      query: () => '/contacts',\r\n      providesTags: ['Contacts'],\r\n    }),\r\n\r\n    saveContact: builder.mutation({\r\n      query: contact => ({\r\n        url: '/contacts',\r\n        method: 'POST',\r\n        body: contact,\r\n      }),\r\n      invalidatesTags: ['Contacts'],\r\n    }),\r\n\r\n    deleteContacts: builder.mutation({\r\n      query: id => ({\r\n        url: `/contacts/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Contacts'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useFetchContactsQuery,\r\n  useSaveContactMutation,\r\n  useDeleteContactsMutation,\r\n} = contactsApi;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { setupListeners } from '@reduxjs/toolkit/query';\r\nimport { contactsApi, filterReducer } from './contacts/contacts-reducer';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    filter: filterReducer,\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n  },\r\n  middleware: getDefaultMiddleware => [\r\n    ...getDefaultMiddleware(),\r\n    contactsApi.middleware,\r\n  ],\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function toastError(query) {\r\n  return toast.error(`${query} is already in contacts!`, {\r\n    position: 'top-right',\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n}\r\n","import { useState } from 'react';\r\nimport {\r\n  useSaveContactMutation,\r\n  useFetchContactsQuery,\r\n} from '../../redux/contacts/contacts-reducer';\r\nimport { BallTriangle } from 'react-loader-spinner';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport warning from '../../helpers/warning';\r\nimport error from '../../helpers/error';\r\nimport styles from './ContactsForm.module.css';\r\n\r\nexport default function ContactsForm() {\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n\r\n  const { data: contacts } = useFetchContactsQuery();\r\n  const [saveContact, { isLoading }] = useSaveContactMutation();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const contact = { name, phone };\r\n\r\n    const getNameExistence = contacts.find(\r\n      contact => contact.name.toLowerCase() === name.toLowerCase(),\r\n    );\r\n\r\n    const getNumberExistence = contacts.find(\r\n      contact => contact.phone === phone,\r\n    );\r\n\r\n    if (getNameExistence) {\r\n      error(name);\r\n      reset();\r\n      return;\r\n    }\r\n    if (getNumberExistence) {\r\n      error(phone);\r\n      reset();\r\n      return;\r\n    }\r\n    saveContact(contact);\r\n    warning();\r\n    reset();\r\n  };\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.currentTarget;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'phone':\r\n        setPhone(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setPhone('');\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={handleSubmit}>\r\n      <label className={styles.label}>\r\n        Name\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n\r\n      <label className={styles.label}>\r\n        Number\r\n        <input\r\n          className={styles.input}\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          value={phone}\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      {isLoading ? (\r\n        <button className={styles.button}>\r\n          <BallTriangle height=\"40\" width=\"40\" color=\"beige\" />\r\n        </button>\r\n      ) : (\r\n        <button className={styles.button} type=\"submit\">\r\n          Add contact\r\n        </button>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function toastError() {\r\n  return toast.success(`Saved!`, {\r\n    position: 'top-right',\r\n    autoClose: 3000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n}\r\n","export const getContacts = state => state.contacts.items;\r\nexport const getFilter = state => state.filter;\r\n\r\nexport const getFilteredContacts = state => {\r\n  const filter = getFilter(state);\r\n  const contacts = getContacts(state);\r\n  const normalizedFilter = filter.toLowerCase();\r\n\r\n  return contacts.filter(({ name }) =>\r\n    name.toLowerCase().includes(normalizedFilter),\r\n  );\r\n};\r\n","import { useDeleteContactsMutation } from '../../redux/contacts/contacts-reducer';\r\nimport { IoTrashBinOutline } from 'react-icons/io5';\r\nimport { BallTriangle } from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ContactsList.module.css';\r\n\r\nexport default function ContactsListItem({ id, name, phoneNumber }) {\r\n  const [deleteContact, { isLoading }] = useDeleteContactsMutation();\r\n\r\n  return (\r\n    <>\r\n      <li className={styles.item}>\r\n        <span className={styles.info}>\r\n          {name}: {phoneNumber}\r\n        </span>\r\n        {isLoading ? (\r\n          <button\r\n            className={styles.button}\r\n            type=\"button\"\r\n            onClick={() => deleteContact(id)}\r\n          >\r\n            <BallTriangle height=\"20\" width=\"40\" color=\"beige\" />\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className={styles.button}\r\n            type=\"button\"\r\n            onClick={() => deleteContact(id)}\r\n          >\r\n            <IoTrashBinOutline />\r\n          </button>\r\n        )}\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nContactsListItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  phoneNumber: PropTypes.string.isRequired,\r\n};\r\n","import { useSelector } from 'react-redux';\r\nimport { useFetchContactsQuery } from '../../redux/contacts/contacts-reducer';\r\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\r\nimport ContactsListItem from './ContactsListItem';\r\nimport styles from './ContactsList.module.css';\r\n\r\nexport default function ContactList() {\r\n  const filter = useSelector(getFilter);\r\n  const { data, error } = useFetchContactsQuery();\r\n\r\n  const getFilteredContacts = contacts =>\r\n    contacts.filter(({ name }) =>\r\n      name.toLowerCase().includes(filter.toLowerCase()),\r\n    );\r\n\r\n  const filteredContacts = data ? getFilteredContacts(data) : [];\r\n\r\n  return (\r\n    <>\r\n      {error || (filteredContacts && filteredContacts.length === 0) ? (\r\n        <div className={styles.warning}>You have no contacts!</div>\r\n      ) : (\r\n        <ul className={styles.list}>\r\n          {data &&\r\n            filteredContacts.map(({ id, name, phone }) => (\r\n              <ContactsListItem\r\n                key={id}\r\n                id={id}\r\n                name={name}\r\n                phoneNumber={phone}\r\n              />\r\n            ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\r\nimport { changeFilter } from '../../redux/contacts/contacts-actions';\r\nimport styles from './Filter.module.css';\r\n\r\nexport default function Filter() {\r\n  const value = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <label className={styles.label}>\r\n      Find contacts\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={e => dispatch(changeFilter(e.target.value))}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ContactsForm from './components/ContactsForm/ContactsForm';\nimport ContactsList from './components/ContactsList/ContactsList';\nimport Filter from './components/Filter/Filter';\n\nexport default function App() {\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ContactsForm />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactsList />\n      <ToastContainer autoClose={3000} theme={'colored'} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactsList_list__2yq7y\",\"item\":\"ContactsList_item__1Kwto\",\"info\":\"ContactsList_info__PTIc1\",\"button\":\"ContactsList_button__J01V_\",\"warning\":\"ContactsList_warning__3rIIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactsForm_form__BbskO\",\"label\":\"ContactsForm_label__3fkh-\",\"input\":\"ContactsForm_input__14yr8\",\"button\":\"ContactsForm_button__qYwAB\"};"],"sourceRoot":""}